:PROPERTIES:
:ID:       88f03140-7c60-41aa-b191-63e1460e76bd
:END:
#+title: ffmpeg
#+filetags: :video:cli:tool:

* Abstract
** FFmpeg Overview
FFmpeg is a free, open-source command-line toolkit for multimedia processing. It functions as a comprehensive solution for handling audio and video files.


#+begin_src plantuml :file images/ffmpeg-overview.png :exports both
@startuml
'skinparam linetype ortho
skinparam rectangle {
    StereotypeFontSize 10
    StereotypeFontName monospace
}

rectangle "Input File" <<file format>> as input

rectangle "Demuxer" as demux {
    rectangle "Container\nFormat\nDetection" as detection
    rectangle "Stream\nSeparation" as separation
    detection -down-> separation
}

rectangle "Video Decoder" as vdecode <<Codec>>
rectangle "Audio Decoder" as adecode <<Codec>>
rectangle "Subtitle Decoder" as sdecode <<Codec>>

rectangle "Video Processing (Optional)" as vprocess {
  rectangle "Scaling, Cropping, etc." as vfilter
  rectangle "Transcoding\n(Codec Change)" as vtranscode
}

rectangle "Audio Processing (Optional)" as aprocess {
  rectangle "Volume, Resampling, etc." as afilter
  rectangle "Transcoding\n(Codec Change)" as atranscode
}

rectangle "Video Encoder" as vencode <<Codec>>
rectangle "Audio Encoder" as aencode <<Codec>>
rectangle "Subtitle Encoder" as sencode <<Codec>>

rectangle "Muxer" as mux {
  rectangle "Stream\nMerging" as merging
  rectangle "Container\nFormat\nCreation" as container
  merging -down-> container
}

rectangle "Output File" <<file format>> as output

input -right-> demux
demux -down-> vdecode : Video Stream
demux -down-> adecode : Audio Stream
demux -down-> sdecode : Subtitle Stream

vdecode -right-> vprocess
aprocess -right-> aencode : (If transcoded)
vprocess -right-> vencode : (If processed/transcoded)
sdecode -right-> sencode

vprocess -down-> vencode : (If not transcoded)
adecode -down-> aprocess : (If not transcoded)

vencode -down-> mux : Encoded Video Stream
aencode -down-> mux : Encoded Audio Stream
sencode -down-> mux : Encoded Subtitle Stream
mux -right-> output

@enduml
#+end_src

#+RESULTS:
[[file:images/ffmpeg-overview.png]]

** Core Features:
- Decoding and Encoding: Supports a wide range of multimedia formats (video, audio, subtitles) for both reading and writing.

- Transcoding: Converts between various codecs (e.g., H.264, H.265) to optimize compatibility and compression.

- Manipulation:  Enables cutting, trimming, concatenating, splitting, and rearranging audio and video streams.

- Processing: Offers filters for color correction, noise reduction, resizing, and other effects.

- Streaming: Facilitates sending and receiving live multimedia streams over networks.

- Analysis: Extracts metadata and other information from multimedia files.

** GUIs
- [[id:02abc3f4-0caf-481d-a439-80bf86f1740a][HandBrake]]
- Lossless Cut
* Resources
 - https://ffmpeg.org/ffmpeg.html
